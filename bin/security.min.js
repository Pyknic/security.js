(function(k){if("undefined"===typeof k.c){var p=require("bcryptjs"),f=function(a){if("string"===typeof a)return a;throw'Specified value "'+a+'" is not a string.';},l=function(a){if("number"===typeof a)return a;throw'Specified value "'+a+'" is not a number.';},m=function(a){if("function"!==typeof a)throw'Specified value "'+a+'" is not a function.';},n=function(a,b){if("function"===typeof a)return a;if("undefined"===typeof a)return b;throw'Expected function, but got "'+typeof a+'".';};k.c={username:null,
password:null,l:function(){return this.username},j:function(){return this.password},m:function(){return null!==this.username&&null!==this.password},start:function(){return"string"===typeof localStorage.b&&"string"===typeof localStorage.a?this.h():"string"===typeof sessionStorage.b&&"string"===typeof sessionStorage.a?this.g():this},o:function(a,b){f(a);f(b.username);f(b.password);m(b.i);m(b.f);p.hash(b.password,10,function(d,g){if(null!==d)throw d;f(g);var e=new XMLHttpRequest;e.open("GET",a,!0);e.onreadystatechange=
function(){if(4===this.readyState){var a=JSON.parse(e.responseText),c=l(e.status);200===c?(this.b=b.username,this.a=g,b.A?(localStorage.b=this.b,localStorage.a=this.a):(sessionStorage.b=this.b,sessionStorage.a=this.a),b.i(a,c)):b.f(a,c)}};e.withCredentials=!0;e.setRequestHeader("Authorization","Basic "+btoa(b.username+":"+g))});return this},h:function(){console.log("Logged in using stored credentials.");this.username=f(localStorage.b);this.password=f(localStorage.a);return this},g:function(){console.log("Logged in using session credentials.");
this.username=f(sessionStorage.b);this.password=f(sessionStorage.a);return this},s:function(){console.log("Logged out.");localStorage.b=null;localStorage.a=null;sessionStorage.b=null;sessionStorage.a=null;return this},w:function(a,b){return this.send("POST",a,b)},put:function(a,b){return this.send("PUT",a,b)},get:function(a,b){return this.send("GET",a,b)},"delete":function(a,b){return this.send("DELETE",a,b)},options:function(a,b){return this.send("OPTIONS",a,b)},send:function(a,b,d){function g(){}
function e(){}f(a);var h="",c=new XMLHttpRequest;c.open(a,b,!0);if("undefined"!==typeof d)if("function"===typeof d)g=e=d;else if("string"===typeof d)c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h=encodeURI(d.data);else if("object"===typeof d)c.setRequestHeader("Content-Type","application/json"),e=n(d.v,function(){}),g=n(d.u,function(){}),h=JSON.stringify(d.data);else throw'Unexpected "config" type. Should be either an object or a function.';c.onreadystatechange=function(){if(4===
this.readyState){var a=JSON.parse(c.responseText),b=l(c.status);switch(b){case 200:case 201:case 202:case 203:case 204:e(a,b);break;default:g(a,b)}}};c.withCredentials=!0;console.log("user: "+this.username);console.log("pass: "+this.password);c.setRequestHeader("Authorization","Basic "+btoa(this.username+":"+this.password));""===h?c.send():c.send(h)}}}else console.warn('Library "Security" already defined.')})(window);
